(function(){var h=void 0,i=!0,k=null,M=function(){function y(a){return function(b,f,d){if(b){var n="caja_ajax_"+G++;window[n]=function(a){try{d(a)}finally{window[n]=h}};H(n,(a?""+a:e.server)+"/cajole?url="+encodeURIComponent(b.toString())+"&input-mime-type="+encodeURIComponent(f)+"&transform=PROXY&callback="+encodeURIComponent(n)+"&alt=json-in-script")}else d(h)}}function o(a){return function(){p&&p.console[a].apply(p.console,arguments)}}function c(){throw Error("Calling taming function before Caja is ready");
}function z(a,b,f){if("UNREADY"!==j)throw Error("Caja cannot be initialized more than once");j="PENDING";u(a,function(a,f){q=a;e.iframe=a.iframe;e.USELESS=a.USELESS;for(var g in e)e[g]===c&&(e[g]=a[g]);a.disableSecurityForDebugger(A);j="READY";g={};g.es5Mode=f;"function"===typeof b&&b(g);v(k)},function(a){j="UNREADY";f(a)})}function v(a){"function"===typeof a&&r.push(a);if("READY"===j){for(a=0;a<r.length;a++)setTimeout(r[a],0);r=[]}}function u(a,b,f){w(window);p=a=I(a);e.server=a.server;!1===a.es5Mode||
a.es5Mode!==i&&!Object.getOwnPropertyNames?B(a,b):J(a,b,f)}function I(a){var a=a||{},b={};b.server=""+(a.server||a.cajaServer||K);b.resources=""+(a.resources||b.server);b.debug=!!a.debug;if("forceES5Mode"in a&&"es5Mode"in a)throw Error("Cannot use both forceES5Mode and es5Mode in the same config");if(a.forceES5Mode!==h)b.es5Mode=!!a.forceES5Mode,b.maxAcceptableSeverity="NOT_ISOLATED";else{b.es5Mode=a.es5Mode===h?"GUESS":!!a.es5Mode;var f=""+(a.maxAcceptableSeverity||"SAFE_SPEC_VIOLATION");"NO_KNOWN_EXPLOIT_SPEC_VIOLATION"===
f&&(f="SAFE_SPEC_VIOLATION",b.acceptNoKnownExploitProblems=i);b.maxAcceptableSeverity=f}b.console=a.console?a.console:a.log?{log:a.log,warn:a.log,error:a.log,info:a.log}:window.console&&"function"===typeof window.console.log?window.console:{log:function(){},warn:function(){},error:function(){},info:function(){}};if(a.targetAttributePresets){if(!a.targetAttributePresets["default"])throw"targetAttributePresets must contain a default";if(!a.targetAttributePresets.whitelist)throw"targetAttributePresets must contain a whitelist";
if(0===a.targetAttributePresets.whitelist.length)throw"targetAttributePresets.whitelist array must be nonempty";b.targetAttributePresets=a.targetAttributePresets}"object"===typeof a.cajolingServiceClient&&(b.cajolingServiceClient=a.cajolingServiceClient);return b}function w(a){a.Object.FERAL_FRAME_OBJECT___!==a.Object&&(a.___={},a.Object.FERAL_FRAME_OBJECT___=a.Object)}function B(a,b){var f=C(a,"es53-guest-frame");l(a,"es53-taming-frame",function(d){d=d.ES53FrameGroup(D,a,d,window,f);b(d,!1)})}function J(a,
b,f){var d=C(a,"ses-single-frame",function(b){b=b.ses||(b.ses={});b.maxAcceptableSeverityName=a.maxAcceptableSeverity;a.acceptNoKnownExploitProblems&&(b.acceptableProblems={DEFINING_READ_ONLY_PROTO_FAILS_SILENTLY:{permit:i},PUSH_IGNORES_SEALED:{permit:i,doNotRepair:i},UNSHIFT_IGNORES_SEALED:{permit:i},SPLICE_IGNORES_SEALED:{permit:i},SHIFT_IGNORES_SEALED:{permit:i},PUSH_DOES_NOT_THROW_ON_FROZEN_ARRAY:{permit:i,doNotRepair:i},ARRAYS_DELETE_NONCONFIGURABLE:{permit:i},ARRAYS_MODIFY_READONLY:{permit:i},
FREEZE_IS_FRAME_DEPENDENT:{permit:i},SYNTAX_ERRORS_ARENT_ALWAYS_EARLY:{permit:i},NESTED_STRICT_FUNCTIONS_LEAK:{permit:i}});b.mitigateSrcGotchas=function(){throw new EvalError("This function is a placeholder that should have been replaced by the real ses.mitigateSrcGotchas.");}});l(a,"utility-frame",function(c){var g=c.ses.mitigateSrcGotchas;d.make(function(d){var c=a.es5Mode===i;if(d.ses.ok())d=d.SESFrameGroup(D,a,d,window,{mitigateSrcGotchas:g}),b(d,i);else if(c)if(d=Error("ES5 mode requested but browser is unsupported"),
"function"===typeof f)f(d);else throw d;else a.console.log("Unable to use SES.  Switching to ES53."),B(a,b)})})}function C(a,b,f){function d(){if("WAITING"===c&&g){var a=g,b=e;c="IDLE";e=g=k;b(a)}}var c="IDLE",g,e,j={preload:function(){"IDLE"===c&&(c="LOADING",g=k,l(a,b,function(a){g=a;d()},f))},make:function(g){"LOADING"===c?(c="WAITING",e=g,d()):l(a,b,g,f)}};j.preload();return j}function l(a,b,f,c){var e=E(b),g=F(a.resources,s+"/"+b+(a.debug?".js?debug=1":".opt.js?debug=1"));setTimeout(function(){e.cajaIframeDone___=
function(){if(s!==e.cajaBuildVersion){var c="Version error: caja.js version "+s+" does not match "+b+" version "+e.cajaBuildVersion+".";if((""+s).split(/[mM]/)[0]===(""+e.cajaBuildVersion).split(/[mM]/)[0])a.console.log(c+"  Continuing because major versions match.");else throw a.console.log(c),Error(c);}f(e)};c&&c(e);setTimeout(function(){var a=e.document,b=a.createElement("script");b.setAttribute("type","text/javascript");b.src=g;a.body.appendChild(b)},0)},0)}function E(a){var b=document.createElement("iframe");
b.style.display="none";b.width=0;b.height=0;b.className=a||"";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);return b.contentWindow}function H(a,b){x||(x=E("loader-frame").document);var c=""+'<script>var $name = parent.window["$name"];<\/script>'.replace(/[$]name/g,a)+'<script type="text/javascript" src="$url"><\/script>'.replace(/[$]url/g,(""+b).replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&#34;"));x.write(c)}function F(a,b){a=a.replace(/\/+$/,
"");b=b.replace(/^\/+/,"");return a+"/"+b}function m(a,b,c){if(typeof a!==b)throw new TypeError("expected "+b+" instead of "+typeof a+": "+(c||a));return a}var s="v6011-es53",K="https://caja.appspot.com/",q,r=[],t=[],L=0,j="UNREADY",p=h,G=1,A=!1,x,e={initialize:z,load:function(a,b,c,d){b=b||e.policy.net.NO_NETWORK;"UNREADY"===j&&z({});v(function(){q.makeES5Frame(a,b,c,d)})},whenReady:v,policy:{net:{rewriter:{NO_NETWORK:function(){return k},ALL:function(a){return""+a}},fetcher:{USE_XHR:function(a,
b,c){var d=new XMLHttpRequest;d.open("GET",a.toString(),i);d.overrideMimeType(b);d.onreadystatechange=function(){4==d.readyState&&c({html:d.responseText})};d.send()},USE_AS_PROXY:y},NO_NETWORK:{rewrite:function(){return k},fetch:function(a,b,c){setTimeout(function(){c({})},0)}},ALL:{rewrite:function(a){return""+a},fetch:y(h)},only:function(a){a=""+a;return{rewrite:function(b){b=""+b;return b===a?b:k}}}},ATTRIBUTETYPES:h,LOADERTYPES:h,URIEFFECTS:h},iframe:k,USELESS:h,tame:c,tamesTo:c,reTamesTo:c,untame:c,
unwrapDom:c,markReadOnlyRecord:c,markFunction:c,markCtor:c,markXo4a:c,grantMethod:c,grantRead:c,grantReadWrite:c,adviseFunctionBefore:c,adviseFunctionAfter:c,adviseFunctionAround:c,makeDefensibleObject___:c,makeDefensibleFunction___:c,isES53:c,isSES:c,initFeralFrame:w,makeFrameGroup:u,configure:u,disableSecurityForDebugger:function(a){A=!!a;q&&q.disableSecurityForDebugger(a)},Q:c,console:{error:o("error"),info:o("info"),log:o("log"),warn:o("warn")},testing_makeDomadoRuleBreaker:c,a:1},D={documentBaseUrl:function(){var a=
document.getElementsByTagName("base");if(0==a.length)return document.location.toString();if(1==a.length){a=a[0].href;if("string"!==typeof a)throw Error("Caja loader error: <base> without a href.");return a}throw Error("Caja loader error: document contains multiple <base>.");},getId:function(a){m(a,"object","imports");var b;b="id___"in a?m(a.id___,"number","id"):a.id___=t.length;t[b]=a;return b},getImports:function(a){var b=t[m(a,"number","id")];if(b===h)throw Error("Internal: imports#",a," unregistered");
return b},joinUrl:F,loadCajaFrame:l,prepareContainerDiv:function(a,b,c){b=(c=c||{},c.idClass)||"caja-guest-"+L++ +"___";a&&9===a.nodeType&&(e.console.warn("Warning: Using a document, rather than an element, as a Caja virtual document container is an experimental feature and may not operate correctly or support all features."),w(a.defaultView));return{idClass:b,opt_div:a}},unregister:function(a){m(a,"object","imports");"id___"in a&&(a=m(a.id___,"number","id"),t[a]=h)},readPropertyAsHostFrame:function(a,
b){return a[b]}};return e}();"undefined"!==typeof window&&(window.caja=M);})();
